node{
    
    stage("Git Clone"){
        git credentialsId: 'Git_Hub', url: 'https://github.com/Pawan-jsp/nodejs-app-mss.git'
    }
    stage("Build"){
        nodejs(nodeJSInstallationName: "nodejs23.0.0"){
        sh "npm install"
    }
    }
    stage("ExecuteSonarQubeReport"){
        nodejs(nodeJSInstallationName: "nodejs23.0.0"){
        sh "npm run sonar"
        }
    }
    stage("UploadArtifactinNexus"){
        sh "npm publish"
    }
    stage("RunNodeJsApp"){
        sh "chmod u+x ./scripts/runApp.sh"
        sh "./scripts/runApp.sh"
}
}
